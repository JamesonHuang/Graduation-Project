<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=gb2312">
<link rel="stylesheet" href="Word2Chm.css" type="text/css">
<title> BluetoothAdapter</title>
</head>
<body>     
<div class=WordSection18 style='layout-grid:15.6pt'><br clear=all
style='page-break-before:always'>

<p class=MsoNormal align=center style='text-align:center'><a
name=BluetoothAdapter><b><span style='font-size:18.0pt'>BluetoothAdapter</span></b></a></p>
<p class=MsoNormal align=center style='text-align:center'><span
>译者署名：</span> <span>Android Club SYSU</span></p>
<p class=MsoNormal align=center style='text-align:center'><span
>译者链接：</span><span><a target="_blank" href="http://www.android-wiki.net">http://www.android-wiki.net</a>&nbsp; </span></p>
<p class=MsoNormal align=center style='text-align:center'><span
>版本：</span><span>Android 2.3 r1</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
style='font-size:12.0pt;'>结构</span></b></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>继承关系</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><b><i><span>public final class <span
style='color:#C00000'>BluetoothAdapter</span> extends <span style='color:#C00000'>Object</span></span></i></b></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span>java.lang.Object</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>android.bluetooth.BluetoothAdapter</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
style='font-size:12.0pt;'>类概述</span></b></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:20.25pt'><span
>代表本地的蓝牙适配器设备。</span><span>BluetoothAdapter</span><span
>类让用户能执行基本的蓝牙任务。例如：</span> <span >初始化设备的搜索，查询可匹配的设备集，使用一个已知的</span><span
lang=EN-US>MAC</span><span >地址来初始化一个</span><span
lang=EN-US>BluetoothDevice</span><span >类，创建一个</span><span
lang=EN-US> BluetoothServerSocket</span><span >类以监听其它设备对本机的连接请求等。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:20.25pt'><span
>为了得到这个代表本地蓝牙适配器的</span><span>
BluetoothAdapter</span><span >类，调用</span><span
lang=EN-US>getDefaultAdapter()</span><span >这一静态方法。这是所有蓝牙动作使用的第一步。当拥有本地适配器以后，</span>
<span >用户可以获得一系列的</span><span>BluetoothDevice</span><span
>对象，这些对象代表所有拥有</span><span>getBondedDevice()</span><span
>方法的已经匹配的设备；用</span><span> startDiscovery()</span><span
>方法来开始设备的搜寻；或者创建一个</span><span>BluetoothServerSocket</span><span
>类，通过</span><span>
listenUsingRfcommWithServiceRecord(String, UUID)</span><span style='font-family:
宋体'>方法来监听新来的连接请求。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:20.25pt'><span
lang=EN-US>Note</span><span >：大部分方法需要</span><span
lang=EN-US>BLUETOOTH</span><span >权限，一些方法同时需要</span><code><span
lang=EN-US style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/Manifest.permission.html#BLUETOOTH_ADMIN"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>BLUETOOTH_ADMIN</span></a></span></code><span
>权限。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:20.25pt'><span
>参见</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:20.25pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><code><span
lang=EN-US style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothDevice.html"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>BluetoothDevice</span></a></span></code></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:20.25pt'><code><span
lang=EN-US style='font-size:12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothServerSocket.html"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>BluetoothServerSocket</span></a></span></code></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
>常量</span></b></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:#D9D9D9'>String &nbsp;&nbsp;&nbsp;&nbsp; ACTION_DISCOVERY_FINISHED
&nbsp;&nbsp; </span></span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>广播事件：本地蓝牙适配器已经完成设备的搜寻过程。</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
style='font-size:10.5pt'>需要</span><code><span style='font-size:10.5pt;
font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/Manifest.permission.html#BLUETOOTH">BLUETOOTH</a></span></code><code><span
style='font-size:10.5pt'>权限接收。</span></code></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
class=jd-tagtitle><span >常量值</span></span><span
class=jd-tagtitle><span>: </span></span><span>&quot;android.bluetooth.adapter.action.DISCOVERY_FINISHED&quot;
</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>String &nbsp;&nbsp;&nbsp;&nbsp; ACTION_DISCOVERY_STARTED
&nbsp;&nbsp;&nbsp; </span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>广播事件：本地蓝牙适配器已经开始对远程设备的搜寻过程。</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
style='font-size:10.5pt'>它通常牵涉到一个大概需时<span>12</span>秒的查询扫描过程，紧跟着是一个对每个获取到自身蓝牙名称的新设备的页面扫描。</span></p>
<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-size:10.5pt'>用户会发现一个把</span><code><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothDevice.html#ACTION_FOUND">ACTION_FOUND</a></span></code><span
style='font-size:10.5pt'>常量通知为远程蓝牙设备的注册。<span><br>
</span>设备查找是一个重量级过程。当查找正在进行的时候，用户不能尝试对新的远程蓝牙设备进行连接，同时存在的连接将获得有限制的带宽以及高等待时间。用户可用</span><code><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#cancelDiscovery%28%29">cancelDiscovery()</a></span></code><span
style='font-size:10.5pt'>类来取消正在执行的查找进程。</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
style='font-size:10.5pt'>需要</span><code><span style='font-size:10.5pt;
font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/Manifest.permission.html#BLUETOOTH">BLUETOOTH</a></span></code><code><span
style='font-size:10.5pt'>权限接收。</span></code></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
class=jd-tagtitle><span >常量值</span></span><span
class=jd-tagtitle><span>: </span></span><span>&quot;android.bluetooth.adapter.action.DISCOVERY_STARTED&quot;
</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>String &nbsp;&nbsp;&nbsp;&nbsp; ACTION_LOCAL_NAME_CHANGED
</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>广播活动：本地蓝牙适配器已经更改了它的蓝牙名称。</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
style='font-size:10.5pt'>该名称对远程蓝牙设备是可见的。</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
style='font-size:10.5pt'>它总是包含了一个带有名称的<span>EXTRA_LOCAL_NAME</span>附加域。</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
style='font-size:10.5pt'>需要</span><code><span style='font-size:10.5pt;
font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/Manifest.permission.html#BLUETOOTH">BLUETOOTH</a></span></code><code><span
style='font-size:10.5pt'>权限接收。</span></code></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
class=jd-tagtitle><span >常量值</span></span><span
class=jd-tagtitle><span>: </span></span><span>&quot;android.bluetooth.adapter.action.LOCAL_NAME_CHANGED&quot;
</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>String &nbsp;&nbsp;&nbsp;&nbsp; ACTION_REQUEST_DISCOVERABLE</span><span
lang=EN-US> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>Activity</span><span
style='font-size:10.5pt'>活动：显示一个请求被搜寻模式的系统活动。如果蓝牙模块当前未打开，该活动也将请求用户打开蓝牙模块。</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
style='font-size:10.5pt'>被搜寻模式和</span><code><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#SCAN_MODE_CONNECTABLE_DISCOVERABLE">SCAN_MODE_CONNECTABLE_DISCOVERABLE</a></span></code><span
style='font-size:10.5pt'>等价。当远程设备执行查找进程的时候，它允许其发现该蓝牙适配器。</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
style='font-size:10.5pt'>从隐私安全考虑，<span>Android</span>不会将被搜寻模式设置为默认状态。</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
style='font-size:10.5pt'>该意图的发送者可以选择性地运用</span><code><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#EXTRA_DISCOVERABLE_DURATION">EXTRA_DISCOVERABLE_DURATION</a></span></code><span
style='font-size:10.5pt'>这个附加域去请求发现设备的持续时间。普遍来说，对于每一请求，默认的持续时间为<span
lang=EN-US>120</span>秒，最大值则可达到<span>300</span>秒。</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
lang=EN-US style='font-size:10.5pt'>Android </span><span style='font-size:10.5pt'>运用</span><code><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/app/Activity.html#onActivityResult%28int,%20int,%20android.content.Intent%29">onActivityResult(int,
int, Intent)</a></span></code><span style='font-size:10.5pt'>回收方法来传递该活动结果的通知。被搜寻的时间（以秒为单位）将通过<span
lang=EN-US>resultCode</span>值来显示，如果用户拒绝被搜寻，或者设备产生了错 误，则通过</span><code><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/app/Activity.html#RESULT_CANCELED">RESULT_CANCELED</a></span></code><span
style='font-size:10.5pt'>值来显示。</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
style='font-size:10.5pt'>每当扫描模式变化的时候，应用程序可以为通过</span><code><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#ACTION_SCAN_MODE_CHANGED">ACTION_SCAN_MODE_CHANGED</a></span></code><span
style='font-size:10.5pt'>值来监听全局的消息通知。比如，当设备停止被搜寻以后，该消息可以被系统通知o应用程序。</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
style='font-size:10.5pt'>需要</span><code><span style='font-size:10.5pt;
font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/Manifest.permission.html#BLUETOOTH">BLUETOOTH</a></span></code><code><span
style='font-size:10.5pt'>权限</span></code></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
class=jd-tagtitle><span >常量值</span></span><span
class=jd-tagtitle><span>: </span></span><span>&quot;android.bluetooth.adapter.action.REQUEST_DISCOVERABLE&quot;
</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>String &nbsp;&nbsp;&nbsp;&nbsp; ACTION_REQUEST_ENABLE</span><span
lang=EN-US>  </span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>Activity</span><span
style='font-size:10.5pt'>活动：显示一个允许用户打开蓝牙模块的系统活动。</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
style='font-size:10.5pt'>当蓝牙模块完成打开工作，或者当用户决定不打开蓝牙模块时，系统活动将返回该值。</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
lang=EN-US style='font-size:10.5pt'>Android </span><span style='font-size:10.5pt'>运用</span><code><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/app/Activity.html#onActivityResult%28int,%20int,%20android.content.Intent%29">onActivityResult(int,
int, Intent)</a></span></code><span style='font-size:10.5pt'>回收方法来传递该活动结果的通知。如果蓝牙模块被打开，将通过<span
lang=EN-US>resultCode</span>值</span><code><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/app/Activity.html#RESULT_OK">RESULT_OK</a></span></code><span
style='font-size:10.5pt'>来显示；如果用户拒绝该请求，或者设备产生了错误，则通过</span><code><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/app/Activity.html#RESULT_CANCELED">RESULT_CANCELED</a></span></code><span
style='font-size:10.5pt'>值来显示。</span></p>
<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-size:10.5pt'>每当蓝牙模块被打开或者关闭，应用程序可以为通过</span><code><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#ACTION_STATE_CHANGED">ACTION_STATE_CHANGED</a></span></code><span
style='font-size:10.5pt'>值来监听全局的消息通知。</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
style='font-size:10.5pt'>需要</span><code><span style='font-size:10.5pt;
font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/Manifest.permission.html#BLUETOOTH">BLUETOOTH</a></span></code><code><span
style='font-size:10.5pt'>权限</span></code></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
class=jd-tagtitle><span >常量值</span></span><span
class=jd-tagtitle><span>: </span></span><span>&quot;android.bluetooth.adapter.action.REQUEST_ENABLE&quot;
</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>String &nbsp;&nbsp;&nbsp;&nbsp; ACTION_SCAN_MODE_CHANGED
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
style='font-size:10.5pt'>广播活动：指明蓝牙扫描模块或者本地适配器已经发生变化</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
style='font-size:10.5pt'>它总是包含</span><code><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#EXTRA_SCAN_MODE">EXTRA_SCAN_MODE</a></span></code><span
style='font-size:10.5pt'>和</span><code><span style='font-size:10.5pt;
font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#EXTRA_PREVIOUS_SCAN_MODE">EXTRA_PREVIOUS_SCAN_MODE</a></span></code><span
style='font-size:10.5pt'>。这两个附加域各自包含了新的和旧的扫描模式。</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
style='font-size:10.5pt'>需要</span><code><span style='font-size:10.5pt;
font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/Manifest.permission.html#BLUETOOTH">BLUETOOTH</a></span></code><code><span
style='font-size:10.5pt'>权限</span></code></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
class=jd-tagtitle><span >常量值</span></span><span
class=jd-tagtitle><span>: </span></span><span>&quot;android.bluetooth.adapter.action.SCAN_MODE_CHANGED&quot;
</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>String &nbsp;&nbsp;&nbsp;&nbsp; ACTION_STATE_CHANGED
&nbsp;&nbsp; </span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
style='font-size:10.5pt'>广播活动：本来的蓝牙适配器的状态已经改变。</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
style='font-size:10.5pt'>例如：蓝牙模块已经被打开或者关闭。</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
style='font-size:10.5pt'>它总是包含</span><code><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#EXTRA_STATE">EXTRA_STATE</a></span></code><span
style='font-size:10.5pt'>和</span><code><span style='font-size:10.5pt;
font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#EXTRA_PREVIOUS_STATE">EXTRA_PREVIOUS_STATE</a></span></code><span
style='font-size:10.5pt'>。这两个附加域各自包含了新的和旧的状态。</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
style='font-size:10.5pt'>需要</span><code><span style='font-size:10.5pt;
font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/Manifest.permission.html#BLUETOOTH">BLUETOOTH</a></span></code><code><span
style='font-size:10.5pt'>权限接收</span></code></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
class=jd-tagtitle><span >常量值</span></span><span
class=jd-tagtitle><span>: </span></span><span>&quot;android.bluetooth.adapter.action.STATE_CHANGED&quot;
</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>int &nbsp; ERROR &nbsp;&nbsp; </span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>标记该类的错误值。确保和该类中的任意其它整数常量不相等。它为需要一个标记错误值的函数提供了便利。例如：</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US>Intent.getIntExtra(BluetoothAdapter.EXTRA_STATE,
BluetoothAdapter.ERROR) </span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span class=jd-tagtitle><span >常量值</span></span><span
lang=EN-US>: -2147483648 (0x80000000) </span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>String &nbsp;&nbsp;&nbsp;&nbsp; EXTRA_DISCOVERABLE_DURATION
&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
style='font-size:10.5pt'>试图在</span><code><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#ACTION_REQUEST_DISCOVERABLE">ACTION_REQUEST_DISCOVERABLE</a></span></code><span
style='font-size:10.5pt'>常量中作为一个可选的整型附加域，来为短时间内的设备发现请求一个特定的持续时间。默认值为<span
lang=EN-US>120</span>秒，超过<span>300</span>秒的请求将被限制。这些值是可以变化的。</span></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
class=jd-tagtitle><span >常量值</span></span><span
class=jd-tagtitle><span>: </span></span><span>&quot;android.bluetooth.adapter.extra.DISCOVERABLE_DURATION&quot;
</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>String &nbsp;&nbsp;&nbsp;&nbsp; EXTRA_LOCAL_NAME
&nbsp;&nbsp; </span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
style='font-size:10.5pt'>试图在</span><code><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#ACTION_LOCAL_NAME_CHANGED">ACTION_LOCAL_NAME_CHANGED</a></span></code><span
style='font-size:10.5pt'>常量中作为一个字符串附加域，来请求本地蓝牙的名称。</span></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
class=jd-tagtitle><span >常量值</span></span><span
class=jd-tagtitle><span>: </span></span><span>&quot;android.bluetooth.adapter.extra.LOCAL_NAME&quot;
</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>String &nbsp;&nbsp;&nbsp;&nbsp; EXTRA_PREVIOUS_SCAN_MODE
&nbsp; </span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
style='font-size:10.5pt'>试图在</span><code><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#ACTION_SCAN_MODE_CHANGED">ACTION_SCAN_MODE_CHANGED</a></span></code><span
style='font-size:10.5pt'>常量中作为一个整型附加域，来请求以前的扫描模式。可能值有<span>:</span></span><code><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif"'> <a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#SCAN_MODE_NONE">SCAN_MODE_NONE</a></span></code><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>, <code><span
style='font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#SCAN_MODE_CONNECTABLE">SCAN_MODE_CONNECTABLE</a></span></code>,
<code><span style='font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#SCAN_MODE_CONNECTABLE_DISCOVERABLE">SCAN_MODE_CONNECTABLE_DISCOVERABLE</a></span></code></span></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
class=jd-tagtitle><span >常量值</span></span><span
class=jd-tagtitle><span>: </span></span><span>&quot;android.bluetooth.adapter.extra.PREVIOUS_SCAN_MODE&quot;
</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>String &nbsp;&nbsp;&nbsp;&nbsp; EXTRA_PREVIOUS_STATE
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
style='font-size:10.5pt'>试图在</span><code><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#ACTION_STATE_CHANGED">ACTION_STATE_CHANGED</a></span></code><span
style='font-size:10.5pt'>常量中作为一个整型附加域，来请求以前的供电状态。 可能值有<span>: </span></span><code><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#STATE_OFF">STATE_OFF</a></span></code><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>, <code><span
style='font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#STATE_TURNING_ON">STATE_TURNING_ON</a></span></code>,
<code><span style='font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#STATE_ON">STATE_ON</a></span></code>,
<code><span style='font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#STATE_TURNING_OFF">STATE_TURNING_OFF</a></span></code></span></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
class=jd-tagtitle><span >常量值</span></span><span
class=jd-tagtitle><span>: </span></span><span>&quot;android.bluetooth.adapter.extra.PREVIOUS_STATE&quot;
</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>String &nbsp;&nbsp;&nbsp;&nbsp; EXTRA_SCAN_MODE
&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
style='font-size:10.5pt'>试图在</span><code><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#ACTION_SCAN_MODE_CHANGED">ACTION_SCAN_MODE_CHANGED</a></span></code><span
style='font-size:10.5pt'>常量中作为一个整型附加域，来请求当前的扫描模式<span>.</span>可能值有<span
lang=EN-US>: </span></span><code><span style='font-size:10.5pt;
font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#SCAN_MODE_NONE">SCAN_MODE_NONE</a></span></code><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>, <code><span
style='font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#SCAN_MODE_CONNECTABLE">SCAN_MODE_CONNECTABLE</a></span></code>,
<code><span style='font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#SCAN_MODE_CONNECTABLE_DISCOVERABLE">SCAN_MODE_CONNECTABLE_DISCOVERABLE</a></span></code></span></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
class=jd-tagtitle><span >常量值</span></span><span
class=jd-tagtitle><span>: </span></span><span>&quot;android.bluetooth.adapter.extra.SCAN_MODE&quot;
</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>String &nbsp;&nbsp;&nbsp;&nbsp; EXTRA_STATE
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
style='font-size:10.5pt'>试图在</span><code><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#ACTION_STATE_CHANGED">ACTION_STATE_CHANGED</a></span></code><span
style='font-size:10.5pt'>常量中作为一个整型附加域，来请求当前的供电状态。 可能值有<span>: </span></span><code><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#STATE_OFF">STATE_OFF</a></span></code><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>, <code><span
style='font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#STATE_TURNING_ON">STATE_TURNING_ON</a></span></code>,
<code><span style='font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#STATE_ON">STATE_ON</a></span></code>,
<code><span style='font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#STATE_TURNING_OFF">STATE_TURNING_OFF</a></span></code></span></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
class=jd-tagtitle><span >常量值</span></span><span
class=jd-tagtitle><span>: </span></span><span>&quot;android.bluetooth.adapter.extra.STATE&quot;
</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>int &nbsp; SCAN_MODE_CONNECTABLE &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>指明在本地蓝牙适配器中，查询扫描功能失效，但页面扫描功能有效。因此该设备不能被远程蓝牙设备发现，但如果以前曾经发现过该设备，则远程设备可以对其进行连接。</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span class=jd-tagtitle><span >常量值</span></span><span
lang=EN-US>: 21 (0x00000015) </span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>int &nbsp; SCAN_MODE_CONNECTABLE_DISCOVERABLE
&nbsp;&nbsp;&nbsp; </span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>指明在本地蓝牙适配器中，查询扫描功能和页面扫描功能都有效。因此该设备既可以被远程蓝牙设备发现，也可以被其连接。</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span class=jd-tagtitle><span >常量值</span></span><span
lang=EN-US>: 23 (0x00000017) </span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>int &nbsp; SCAN_MODE_NONE &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>指明在本地蓝牙适配器中，查询扫描功能和页面扫描功能都失效</span><span>. </span><span
>因此该设备既不可以被远程蓝牙设备发现，也不可以被其连接。</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span class=jd-tagtitle><span >常量值</span></span><span
lang=EN-US>: 20 (0x00000014) </span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>int &nbsp; STATE_OFF &nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>指明本地蓝牙适配器模块已经关闭</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span class=jd-tagtitle><span >常量值</span></span><span
lang=EN-US>: 10 (0x0000000a) </span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>int &nbsp; STATE_ON &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>指明本地蓝牙适配器模块已经打开，并且准备被使用。</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span class=jd-tagtitle><span >常量值</span></span><span
lang=EN-US>: 12 (0x0000000c) </span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>int &nbsp; STATE_TURNING_OFF &nbsp;&nbsp; </span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>指明本地蓝牙适配器模块正在关闭。本地客户端可以立刻尝试友好地断开任意外部连接。</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span class=jd-tagtitle><span >常量值</span></span><span
lang=EN-US>: 13 (0x0000000d) </span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>int &nbsp; STATE_TURNING_ON &nbsp;&nbsp;&nbsp; </span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
style='font-size:10.5pt'>指明本地蓝牙适配器模块正在打开<span>. </span>然而本地客户在尝试使用这个适配器之前需要为</span><code><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#STATE_ON">STATE_ON</a></span></code><span
style='font-size:10.5pt'>状态而等待。</span></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
class=jd-tagtitle><span >常量值</span></span><span
class=jd-tagtitle><span>: </span></span><span>11
(0x0000000b) </span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
>公共方法</span></b></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>public boolean <b>cancelDiscovery</b> ()</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>取消当前的设备发现查找进程</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>需要</span><code><span style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/Manifest.permission.html#BLUETOOTH_ADMIN"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>BLUETOOTH_ADMIN</span></a></span></code><span
>权限。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>因为对蓝牙适配器而言，查找是一个重量级的过程，因此这个方法必须在尝试连接到远程设备前使用用</span><span
lang=EN-US>connect()</span><span >方法进行调用。发现的过程不会由活动来进行管理，但是它会作为一个系统服务来运行，因此即使它不能直接请求这样的一个查询动作，也必需取消该搜索进程。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>如果蓝牙状态不是</span><code><span style='font-size:
12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#STATE_ON"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>STATE_ON</span></a></span></code><span
>，这个</span><span>API</span><span
>将返回</span><span>false</span><span
>。蓝牙打开后，等待</span><span>ACTION_STATE_CHANGED</span><span
>更新成</span><span>STATE_ON</span><span
>。</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >返回值</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span >成功则返回</span><span>true</span><span
>，有错误则返回</span><span>false</span><span
>。</span><span> </span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>public static boolean <b>checkBluetoothAddress</b>
(String address)</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>验证皆如</span><span>&quot;00:43:A8:23:10:F0&quot;</span><span
>之类的蓝牙地址。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>字母必须为大写才有效。</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >参数</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>address  </span><span style='font-family:
宋体'>字符串形式的蓝牙模块地址</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >返回值</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span >地址正确则返回</span><span
lang=EN-US>true</span><span >，否则返回</span><span
lang=EN-US>false</span><span >。</span><span> </span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>public boolean <b>disable</b> ()</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>关闭本地蓝牙适配器</span><span>―</span><span
>不能在没有明确关闭蓝牙的用户动作中使用。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>这个方法友好地停止所有的蓝牙连接，停止蓝牙系统服务，以及对所有基础蓝牙硬件进行断电。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
style=';background:yellow'>没有用户的直接同意，蓝牙永远不能被禁止。这个</span><span
lang=EN-US style='background:yellow'>disable()</span><span style='font-family:
宋体;background:yellow'>方法只提供了一个应用，该应用包含了一个改变系统设置的用户界面（例如</span><span
style='background:yellow'>“</span><span style=';background:yellow'>电源控制</span><span
lang=EN-US style='background:yellow'>”</span><span style=';
background:yellow'>应用）。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>这</span> <span >是一个异步调用方法：该方法将马上获得返回值，用户要通过监听</span><span
lang=EN-US>ACTION_STATE_CHANGED</span><span >值来获取随后的适配器状态改变的通知。如果该调用</span>
<span >返回</span><span>true</span><span
>值，则该适配器状态会立刻从</span><span>STATE_ON</span><span
>转向</span><span>STATE_TURNING_OFF</span><span
>，稍后则会转为</span><span>STATE_OFF</span><span
>或者</span><span> STATE_ON</span><span
>。如果该调用返回</span><span>false</span><span
>，那么系统已经有一个保护蓝牙适配器被关闭的问题</span><span>―</span><span
>比如该适配器已经被关闭了。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>需要</span><code><span style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/Manifest.permission.html#BLUETOOTH_ADMIN"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>BLUETOOTH_ADMIN</span></a></span></code><span
>权限。</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>返回值</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span >如果蓝牙适配器的停止进程已经开启则返回</span><span
lang=EN-US>true</span><span >，如果产生错误则返回</span><span
lang=EN-US>false</span><span >。</span><span> </span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>public boolean <b>enable</b> ()</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>打开本地蓝牙适配器</span><span>―</span><span
>不能在没有明确打开蓝牙的用户动作中使用。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>该方法将为基础的蓝牙硬件供电，并且启动所有的蓝牙系统服务。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
style=';background:yellow'>没有用户的直接同意，蓝牙永远不能被禁止。如果用户为了创建无线连接而打开了蓝牙模块，则其需要</span><span
lang=EN-US style='background:yellow'>ACTION_REQUEST_ENABLE</span><span
style=';background:yellow'>值，该值将提出</span><span style='background:
yellow'> </span><span style=';background:yellow'>一个请求用户允许以打开蓝牙模块的会话。这个</span><span
lang=EN-US style='background:yellow'>enable()</span><span style='font-family:
宋体;background:yellow'>值只提供了一个应用，该应用包含了一个改变系统设置的用户界面（例如</span><span
style='background:yellow'>“</span><span style=';background:yellow'>电源控制</span><span
lang=EN-US style='background:yellow'>”</span><span style=';
background:yellow'>应用）。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>这是一个异步调用方法：该方法将马上获得返回值，用户要通过监听</span><span>ACTION_STATE_CHANGED</span><span
>值来获取随后的适配器状态改变的通知。如果该调用</span> <span style='font-family:
宋体'>返回</span><span>true</span><span >值，则该适配器状态会立刻从</span><span
lang=EN-US>STATE_OFF</span><span >转向</span><span
lang=EN-US>STATE_TURNING_ON</span><span >，稍后则会转为</span><span
lang=EN-US>STATE_OFF</span><span >或者</span><span
lang=EN-US> STATE_ON</span><span >。如果该调用返回</span><span
lang=EN-US>false</span><span >，那么说明系统已经有一个保护蓝牙适配器被打开的问题</span><span
lang=EN-US>―</span><span >比如飞行模式，或者该适配器已经被打开。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>需要</span><code><span style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/Manifest.permission.html#BLUETOOTH_ADMIN"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>BLUETOOTH_ADMIN</span></a></span></code><span
>权限。</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >返回值</span><span>&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span >如果蓝牙适配器的打开进程已经开启则返回</span><span
lang=EN-US>true</span><span >，如果产生错误则返回</span><span
lang=EN-US>false</span><span >。</span><span> </span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>public String <b>getAddress</b> ()</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>返回本地蓝牙适配器的硬件地址</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>例如：</span><span>
&quot;00:11:22:AA:BB:CC&quot;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>需要</span><code><span style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/Manifest.permission.html#BLUETOOTH"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>BLUETOOTH</span></a></span></code><span
>权限。</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >返回值</span><span>&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span >字符串形式的蓝牙模块地址</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>public Set&lt;BluetoothDevice&gt; <b>getBondedDevices</b>
()</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>返回已经匹配到本地适配器的</span><span>BluetoothDevice</span><span
>类的对象集合</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>如果蓝牙状态不是</span><code><span style='font-size:
12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#STATE_ON"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>STATE_ON</span></a></span></code><span
>，这个</span><span>API</span><span
>将返回</span><span>false</span><span
>。蓝牙打开后，等待</span><span>ACTION_STATE_CHANGED</span><span
>更新成</span><span>STATE_ON</span><span
>。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>需要</span><code><span style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/Manifest.permission.html#BLUETOOTH"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>BLUETOOTH</span></a></span></code><span
>权限。</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >返回值</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span >未被修改的</span><span>BluetoothDevice</span><span
>类的对象集合，如果有错误则返回</span><span>null</span><span
>。</span><span> </span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>public static synchronized BluetoothAdapter
<b>getDefaultAdapter</b> ()</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>获取对默认本地蓝牙适配器的的操作权限。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>目前</span><span>Andoird</span><span
>只支持一个蓝牙适配器，但是</span><span>API</span><span
>可以被扩展为支持多个适配器。该方法总是返回默认的适配器。</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >返回值</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span >返回默认的本地适配器，如果蓝牙适配器在该硬件平台上不能被支持，则返回</span><span
lang=EN-US>null</span><span >。</span><span> </span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>public String <b>getName</b> ()</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>获取本地蓝牙适配器的蓝牙名称</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>这个</span><span >名称</span><span
>对于外界蓝牙设备而言是可见的。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>需要</span><code><span style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/Manifest.permission.html#BLUETOOTH"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>BLUETOOTH</span></a></span></code><span
>权限。</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >返回值</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span >该蓝牙适配器名称，如果有错误则返回</span><span
lang=EN-US>null</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>public BluetoothDevice <b>getRemoteDevice</b>
(String address)</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>为给予的蓝牙硬件地址获取一个</span><span>BluetoothDevice</span><span
>对象。</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>合法的蓝牙硬件地址必须为大写，格式类似于</span><span>&quot;00:11:22:33:AA:BB&quot;</span><span
>。</span><span>checkBluetoothAddress(String)</span><span
>方法可以用来验证蓝牙地址的正确性。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US>BluetoothDevice</span><span >类对于合法的硬件地址总会产生返回值，即使这个适配器从未见过该设备。</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >参数</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>address  </span><span style='font-family:
宋体'>合法的蓝牙</span><span>MAC</span><span >地址</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >异常</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>IllegalArgumentException &nbsp;&nbsp;&nbsp;&nbsp; </span><span
>如果地址不合法</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>public int <b>getScanMode</b> ()</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>获取本地蓝牙适配器的当前蓝牙扫描模式</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>蓝牙扫描模式决定本地适配器可连接并且</span><span>/</span><span
>或者可被远程蓝牙设备所连接。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>可能值有</span><span>: SCAN_MODE_NONE,
SCAN_MODE_CONNECTABLE, SCAN_MODE_CONNECTABLE_DISCOVERABLE.</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>如果蓝牙状态不是</span><code><span style='font-size:
12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#STATE_ON"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>STATE_ON</span></a></span></code><span
>，这个</span><span>API</span><span
>将返回</span><span>false</span><span
>。蓝牙打开后，等待</span><span>ACTION_STATE_CHANGED</span><span
>更新成</span><span>STATE_ON</span><span
>。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>需要</span><code><span style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/Manifest.permission.html#BLUETOOTH"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>BLUETOOTH</span></a></span></code><span
>权限。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>返回值</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span >扫描模式</span><span> </span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>public int <b>getState</b> ()</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>获取本地蓝牙适配器的当前状态</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>可能值有</span><span> STATE_OFF,
STATE_TURNING_ON, STATE_ON, STATE_TURNING_OFF. <br>
</span><span >需要</span><span>BLUETOOTH</span><span
>类</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>需要</span><code><span style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/Manifest.permission.html#BLUETOOTH"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>BLUETOOTH</span></a></span></code><span
>权限。</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>返回值</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>current state of Bluetooth adapter </span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>public boolean <b>isDiscovering</b> ()</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>如果当前蓝牙适配器正处于设备发现查找进程中，则返回真值</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>设备查找是一个重量级过程。当查找正在进行的时候，用户不能尝试对新的远程蓝牙设备进行连接，同时存在的连接将获得有限制的带宽以及高等待时间。用户可用</span><span
lang=EN-US>cencelDiscovery()</span><span >类来取消正在执行的查找进程。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>应用程序也可以为</span><span>ACTION_DISCOVERY_STARTED</span><span
>或者</span><span>ACTION_DISCOVERY_FINISHED</span><span
>进行注册，从而当查找开始或者完成的时候，可以获得通知。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>如果蓝牙状态不是</span><code><span style='font-size:
12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#STATE_ON"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>STATE_ON</span></a></span></code><span
>，这个</span><span>API</span><span
>将返回</span><span>false</span><span
>。蓝牙打开后，等待</span><span>ACTION_STATE_CHANGED</span><span
>更新成</span><span>STATE_ON</span><span
>。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>需要</span><code><span style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/Manifest.permission.html#BLUETOOTH"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>BLUETOOTH</span></a></span></code><span
>权限。</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>返回值</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span >如果正在查找，则返回</span><span
lang=EN-US>true </span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>public boolean <b>isEnabled</b> ()</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>如果蓝牙正处于打开状态并可用，则返回真值</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>与</span><span>getBluetoothState()==STATE_ON </span><span
>等价</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>需要</span><code><span style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/Manifest.permission.html#BLUETOOTH"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>BLUETOOTH</span></a></span></code><span
>权限。</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>返回值</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span >如果本地适配器已经打开，则返回</span><span
lang=EN-US>true </span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>public BluetoothServerSocket <b>listenUsingRfcommWithServiceRecord</b>
(String name, UUID uuid)</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>创建一个正在监听的安全的带有服务记录的无线射频通信（</span><span>RFCOMM</span><span
>）蓝牙端口。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>一个对该端口进行连接的远程设备将被认证，对该端口的通讯将被加密。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>使用</span><span>accpet</span><span
>（）方法可以获取从监听</span><code><span
style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothServerSocket.html"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>BluetoothServerSocket</span></a></span></code><span
>处新来的连接</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>该系统分配一个未被使用的无线射频通信通道来进行监听。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>该系统也将注册一个服务探索协议（</span><span>SDP</span><span
>）记录，该记录带有一个包含了特定</span> <span >的通用唯一识别码（</span><span
lang=EN-US>Universally Unique Identifier</span><span >，</span><span
lang=EN-US>UUID</span><span >），服务器名称和自动分配通道的本地</span><span
lang=EN-US>SDP</span><span >服务。远程蓝牙设备可以用相同的</span><span
lang=EN-US>UUID</span><span >来查询自己的</span><span
lang=EN-US>SDP</span><span >服务器，并搜寻连接</span> <span
>到了哪个通道上。如果该端口已经关闭，或者如果该应用程序异常退出，则这个</span><span
lang=EN-US>SDP</span><span >记录会被移除。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>使用</span><code><span style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothDevice.html#createRfcommSocketToServiceRecord%28java.util.UUID%29"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>createRfcommSocketToServiceRecord(UUID)</span></a></span></code><span
>从另一使用相同</span><code><span style='font-size:
12.0pt'><a target="_blank" href="http://developer.android.com/reference/java/util/UUID.html"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>UUID</span></a></span></code><span
>的设备来连接到这个端口</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>需要</span><code><span style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/Manifest.permission.html#BLUETOOTH"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>BLUETOOTH</span></a></span></code><span
>权限。</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >参数</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>name &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SDP</span><span
>记录下的服务器名</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>uuid &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SDP</span><span
>记录下的</span><span>UUID</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>返回值</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span >一个正在监听的无线射频通信蓝牙服务端口</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >异常</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>IOException &nbsp;&nbsp; </span><span
>产生错误，比如蓝牙设备不可用，或者许可无效，或者通道被占用。</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>public boolean setName (String name)</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>设置蓝牙或者本地蓝牙适配器的昵称</span><span>.</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>这个名字对于外界蓝牙设备而言是可见的。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>合法的蓝牙名称最多拥有</span><span>248</span><span
>位</span><span>UTF-8</span><span
>字符，但是很多外界设备只能显示前</span><span>40</span><span
>个字符，有些可能只限制前</span><span>20</span><span
>个字符。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>如果蓝牙状态不是</span><code><span style='font-size:
12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#STATE_ON"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>STATE_ON</span></a></span></code><span
>，这个</span><span>API</span><span
>将返回</span><span>false</span><span
>。蓝牙打开后，等待</span><span>ACTION_STATE_CHANGED</span><span
>更新成</span><span>STATE_ON</span><span
>。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>需要</span><code><span style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/Manifest.permission.html#BLUETOOTH_ADMIN"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>BLUETOOTH_ADMIN</span></a></span></code><span
>权限。</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >参数</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>name &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>一个合法的蓝牙名称</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >返回值</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span >如果该名称已被设定，则返回</span><span
lang=EN-US>true</span><span >，否则返回</span><span
lang=EN-US>false </span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>public boolean <b>startDiscovery</b> ()</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>开始对远程设备进行查找的进程</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>它通常牵涉到一个大概需时</span><span>12</span><span
>秒的查询扫描过程，紧跟着是一个对每个获取到自身蓝牙名称的新设备的页面扫描。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>这是一个异步调用方法：该方法将马上获得返回值，注册</span><span>ACTION_DISCOVERY_STARTED
and ACTION_DISCOVERY_FINISHED</span><span >意图准确地确定该探索是处于开始阶段或者完成阶段。注册</span><span
lang=EN-US>ACTION_FOUND</span><span >以活动远程蓝牙设备</span> <span
>已找到的通知。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>设备查找是一个重量级过程。当查找正在进行的时候，用户不能尝试对新的远程蓝牙设备进行连接，同时存在的连接将获得有限制的带宽以</span>
<span >及高等待时间。用户可用</span><span>cencelDiscovery()</span><span
>类来取消正在执行的查找进程。发现的过程不会由活动来进行管理，但是它会作为一个系统服务来运</span> <span
>行，因此即使它不能直接请求这样的一个查询动作，也必需取消该搜索进程。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>设备搜寻只寻找已经被连接的远程设备。许多蓝牙设备默认不会被搜寻到，并且需要进入到一个特殊的模式当中。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>如果蓝牙状态不是</span><code><span style='font-size:
12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#STATE_ON"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>STATE_ON</span></a></span></code><span
>，这个</span><span>API</span><span
>将返回</span><span>false</span><span
>。蓝牙打开后，等待</span><span>ACTION_STATE_CHANGED</span><span
>更新成</span><span>STATE_ON</span><span
>。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>需要</span><code><span style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/Manifest.permission.html#BLUETOOTH_ADMIN"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>BLUETOOTH_ADMIN</span></a></span></code><span
>权限。</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >返回值</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span >成功返回</span><span>true</span><span
>，错误返回</span><span>false</span><span
>。</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
>补充</span></b></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>文章精选</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a target="_blank" href="http://www.eoeandroid.com/thread-18993-1-1.html">Android<span
><span>蓝牙<span>开发浅谈</span></span></span></a></span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a target="_blank" href="http://www.android123.com.cn/androidkaifa/368.html">Android<span
lang=EN-US ><span>蓝牙</span></span>API<span
lang=EN-US ><span>之</span></span>BluetoothAdapter<span
lang=EN-US ><span>类</span></span>(1)</a></span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a target="_blank" href="http://www.android123.com.cn/androidkaifa/360.html">Android<span
lang=EN-US ><span>蓝牙</span></span>API<span
lang=EN-US ><span>之</span></span>BluetoothAdapter<span
lang=EN-US ><span>类</span></span>(2)</a></span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a target="_blank" href="http://dev.10086.cn/cmdn/wiki/index.php?doc-view-4341.html">Ophone<span
lang=EN-US ><span>平台蓝牙编程基础</span></span></a></span></p>

</div>

<span style='font-size:10.5pt;font-family:"Calibri","sans-serif"'><br
clear=all style='page-break-before:auto'>
</span>

      
</body>
</html>
