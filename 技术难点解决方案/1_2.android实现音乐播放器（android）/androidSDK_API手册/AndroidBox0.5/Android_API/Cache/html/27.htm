<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=gb2312">
<link rel="stylesheet" href="Word2Chm.css" type="text/css">
<title> SharedPreferences</title>
</head>
<body>     
<div class=WordSection27 style='layout-grid:15.6pt'><br clear=all
style='page-break-before:always'>

<p class=MsoNormal align=center style='text-align:center'><a
name=SharedPreferences><b><span style='font-size:18.0pt'>SharedPreferences</span></b></a></p>
<p class=MsoNormal align=center style='text-align:center'><span
>译者署名：</span><span> madgoat</span></p>
<p class=MsoNormal align=center style='text-align:center'><span
>译者链接：</span><span><a target="_blank" href="http://madgoat.cn">http://madgoat.cn</a>
</span></p>
<p class=MsoNormal align=center style='text-align:center'><span
>翻译版本：</span><span>Android 2.3 r1</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
style='font-size:12.0pt;'>结构</span></b></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>继承关系</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><b><i><span>public interface <span
style='color:#C00000'>SharedPreferences</span></span></i></b></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span>android.content.SharedPreferences</span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
style='font-size:12.0pt;'>类概述</span></b></p>
<p class=MsoNormal style='text-indent:21.0pt'><span >用于访问和修改</span><span
lang=EN-US><a target="_blank" href="http://developer.android.com/reference/android/content/Context.html#getSharedPreferences%28java.lang.String,%20int%29">getSharedPreferences(String,
int)</a></span><span >返回偏好设置数据</span><span>(preference
data)</span><span >的一个接口。对于任何一组特殊的</span><span
lang=EN-US>preferences</span><span >，所有的客户端共享一个此类单独的实例。</span></p>
<p class=MsoNormal><span >修改</span><span>Preferences</span><span
>必须通过一个</span><span><a target="_blank" href="http://developer.android.com/reference/android/content/SharedPreferences.Editor.html">SharedPreferences.Editor</a></span><span
>对象，以确保当他们提交存储数据的操作时，</span><span>preference</span><span
>值保持一致的状态。</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><i><span style=';
color:#C00000'>注意：当前此类不支持多线程访问。后续将添加。</span></i></p>
<p class=MsoNormal style='text-indent:21.0pt'><span >（译者注：这里译为</span><span
lang=EN-US>” </span><span >偏好设定</span><span>”</span><span
>，类似于</span><span>ini</span><span
>文件，用于保存应用程序的属性设置）</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span >参见</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a target="_blank" href="http://developer.android.com/reference/android/content/Context.html#getSharedPreferences%28java.lang.String,%20int%29">getSharedPreferences(String,
int)</a></span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><b><span >内部类</span></b></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:#D9D9D9'>interface &nbsp;SharedPreferences.Editor</span> &nbsp; </span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span >用于修改</span><span
lang=EN-US>SharedPreferences</span><span >对象设定值的接口。</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span>&nbsp;</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span
style='background:#D9D9D9'>interface &nbsp;SharedPreferences.OnSharedPreferenceChangeListener
</span><span> </span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span >接口定义一个用于在偏好设定</span><span
lang=EN-US>(shared preference)</span><span >改变时调用的回调函数。</span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
style='font-size:12.0pt;'>公共方法</span></b></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:silver'>public abstract boolean <b>contains</b>
(String key)</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>判断</span><span>preferences</span><span
>是否包含一个</span><span>preference</span><span
>。</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >参数</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>key</span><span
> </span><span >想要判断的</span><span
lang=EN-US>preference</span><span >的名称</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >返回值</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span >如果</span><span>preferences</span><span
>中存在</span><span>preference</span><span
>，则返回</span><span>true</span><span
>，否则返回</span><span>false</span><span
>。</span></p>
<p class=MsoNormal align=left style='text-align:left'><span
>&nbsp;</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span
style='background:silver'>public abstract SharedPreferences.Editor <b>edit</b>
()</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>针对</span><span>preferences</span><span
>创建一个新的</span><span>Editor</span><span
>对象，通过它你可以修改</span><span>preferences</span><span
>里的数据，并且原子化的将这些数据提交回</span><span>SharedPreferences</span><span
>对象。（译者注：原子化――作为一个整体提交，原子性）</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>注意：如果你想要在</span><span>SharedPreferences</span><span
>中实时显示，刚通过</span><span>Editor</span><span
>对象进行的修改，那么你必须调用</span><span><a target="_blank" href="http://developer.android.com/reference/android/content/SharedPreferences.Editor.html#commit%28%29">commit()</a></span><span
>方法。</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >返回值</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span >返回一个</span><span><a target="_blank" href="http://developer.android.com/reference/android/content/SharedPreferences.Editor.html">SharedPreferences.Editor</a></span><span
>的新实例，允许你修改</span><span>SharedPreferences</span><span
>对象里的值。</span></p>
<p class=MsoNormal align=left style='text-align:left'><span
>&nbsp;</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span
style='background:silver'>public abstract Map&lt;String, ?&gt; <b>getAll</b> ()</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>取得</span><span>preferences</span><span
>里面的所有值</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >返回值</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span >返回一个</span><span>map</span><span
>，其中包含一列</span><span>preferences</span><span
>中的键值对</span></p>
<p class=MsoNormal align=left style='text-align:left'><span
>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>异常</span></p>
<p class=MsoNormal align=left style='text-align:left'><span
>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>空指针异常<span>(</span></span><span>NullPointerException</span><span
lang=EN-US >)</span></p>
<p class=MsoNormal align=left style='text-align:left'><span
>&nbsp;</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span
style='background:silver'>public abstract boolean getBoolean (String key,
boolean defValue)</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>从</span><span>preferences</span><span
>中获取一个</span><span>boolean</span><span
>类型的值。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US >&nbsp;&nbsp;&nbsp; </span><span
>参数</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>key&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>获取的</span><span>preference</span><span
>的名称</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>defValue&nbsp; </span><span >当此</span><span
lang=EN-US>preference</span><span >不存在时返回的默认值</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >返回值</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span >如果</span><span>preference</span><span
>存在，则返回</span><span>preference</span><span
>的值，否则返回</span><span>defValue</span><span
>。如果使用此名称的</span><span>preference</span><span
>不是一个</span><span>boolean</span><span
>类型，则抛出</span><span>ClassCastException</span><span
>。</span></p>
<p class=MsoNormal align=left style='text-align:left'><span
>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>异常</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span><a target="_blank" href="http://developer.android.com/reference/java/lang/ClassCastException.html">ClassCastException</a></span><span
lang=EN-US >&nbsp;&nbsp;&nbsp; </span></p>
<p class=MsoNormal align=left style='text-align:left'><span
>&nbsp;</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span
style='background:silver'>public abstract float getFloat (String key, float
defValue)</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>从</span><span>preferences</span><span
>中获取一个</span><span>float</span><span
>类型的值。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US >&nbsp;&nbsp;&nbsp; </span><span
>参数</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>key&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>获取的</span><span>preference</span><span
>的名称</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>defValue&nbsp; </span><span >当此</span><span
lang=EN-US>preference</span><span >不存在时返回的默认值</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >返回值</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span >如果</span><span>preference</span><span
>存在，则返回</span><span>preference</span><span
>的值，否则返回</span><span>defValue</span><span
>。如果使用此名称的</span><span>preference</span><span
>不是一个</span><span>float</span><span
>类型，则抛出</span><span>ClassCastException</span><span
>。</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >异常</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span><a target="_blank" href="http://developer.android.com/reference/java/lang/ClassCastException.html">ClassCastException</a></span><span
lang=EN-US >&nbsp;&nbsp;&nbsp; </span></p>
<p class=MsoNormal align=left style='text-align:left'><span
>&nbsp;</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span
style='background:silver'>public abstract int <b>getInt</b> (String key, int
defValue)</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>从</span><span>preferences</span><span
>中获取一个</span><span>int</span><span
>类型的值。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US >&nbsp;&nbsp;&nbsp; </span><span
>参数</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>key&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>获取的</span><span>preference</span><span
>的名称</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>defValue&nbsp; </span><span >当此</span><span
lang=EN-US>preference</span><span >不存在时返回的默认值</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >返回值</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span >如果</span><span>preference</span><span
>存在，则返回</span><span>preference</span><span
>的值，否则返回</span><span>defValue</span><span
>。如果使用此名称的</span><span>preference</span><span
>不是一个</span><span>int</span><span
>类型，则抛出</span><span>ClassCastException</span><span
>。</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >异常</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span><a target="_blank" href="http://developer.android.com/reference/java/lang/ClassCastException.html">ClassCastException</a></span><span
lang=EN-US >&nbsp;&nbsp;&nbsp; </span></p>
<p class=MsoNormal align=left style='text-align:left'><span
>&nbsp;</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span
style='background:silver'>public abstract long <b>getLong</b> (String key, long
defValue)</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>从</span><span>preferences</span><span
>中获取一个</span><span>long</span><span
>类型的值。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US >&nbsp;&nbsp;&nbsp; </span><span
>参数</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>key&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>获取的</span><span>preference</span><span
>的名称</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>defValue&nbsp; </span><span >当此</span><span
lang=EN-US>preference</span><span >不存在时返回的默认值</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >返回值</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span >如果</span><span>preference</span><span
>存在，则返回</span><span>preference</span><span
>的值，否则返回</span><span>defValue</span><span
>。如果使用此名称的</span><span>preference</span><span
>不是一个</span><span>long</span><span
>类型，则抛出</span><span>ClassCastException</span><span
>。</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >异常</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span><a target="_blank" href="http://developer.android.com/reference/java/lang/ClassCastException.html">ClassCastException</a></span><span
lang=EN-US >&nbsp;&nbsp;&nbsp; </span></p>
<p class=MsoNormal align=left style='text-align:left'><span
>&nbsp;</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span
style='background:silver'>public abstract String <b>getString</b> (String key,
String defValue)</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>从</span><span>preferences</span><span
>中获取一个</span><span>String</span><span
>类型的值。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US >&nbsp;&nbsp;&nbsp; </span><span
>参数</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>key&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>获取的</span><span>preference</span><span
>的名称</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>defValue&nbsp; </span><span >当此</span><span
lang=EN-US>preference</span><span >不存在时返回的默认值</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >返回值</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span >如果</span><span>preference</span><span
>存在，则返回</span><span>preference</span><span
>的值，否则返回</span><span>defValue</span><span
>。如果使用此名称的</span><span>preference</span><span
>不是一个</span><span>String</span><span
>类型，则抛出</span><span>ClassCastException</span><span
>。</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >异常</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span><a target="_blank" href="http://developer.android.com/reference/java/lang/ClassCastException.html">ClassCastException</a></span><span
lang=EN-US >&nbsp;&nbsp;&nbsp; </span></p>
<p class=MsoNormal align=left style='text-align:left'><span
>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>public abstract void <b>registerOnSharedPreferenceChangeListener</b>
(SharedPreferences.OnSharedPreferenceChangeListener listener)</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>注册一个回调函数，当一个</span><span>preference</span><span
>发生变化时调用。</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >参数</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>listener&nbsp;&nbsp;&nbsp; </span><span >将会被调用的回调函数</span></p>
<p class=MsoNormal align=left style='text-align:left'><span
>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参见</span></p>
<p class=MsoNormal align=left style='text-align:left'><span
>&nbsp;&nbsp;&nbsp; </span><span><a target="_blank" href="http://developer.android.com/reference/android/content/SharedPreferences.html#unregisterOnSharedPreferenceChangeListener%28android.content.SharedPreferences.OnSharedPreferenceChangeListener%29">unregisterOnSharedPreferenceChangeListener(SharedPreferences.OnSharedPreferenceChangeListener)</a></span></p>
<p class=MsoNormal align=left style='text-align:left'><span
>&nbsp;</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span
style='background:silver'>public abstract void <b>unregisterOnSharedPreferenceChangeListener</b>
(SharedPreferences.OnSharedPreferenceChangeListener listener)</span></p>
<p class=MsoNormal align=left style='text-align:left'><span style='font-family:
宋体'>注销一个之前<span>(</span>注册<span>)</span>的回调函数</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >参数</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>listener&nbsp;&nbsp;&nbsp; </span><span >要被注销的回调函数</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >参见</span></p>
<p class=MsoNormal><span >&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US><a target="_blank" href="http://developer.android.com/reference/android/content/SharedPreferences.html#registerOnSharedPreferenceChangeListener%28android.content.SharedPreferences.OnSharedPreferenceChangeListener%29">registerOnSharedPreferenceChangeListener(SharedPreferences.OnSharedPreferenceChangeListener)</a></span></p>
<p class=MsoNormal><span >&nbsp;</span></p>
<p class=MsoNormal><b><span >补充</span></b></p>
<p class=MsoNormal><span >&nbsp;&nbsp;&nbsp; </span><span
>文章精选</span></p>
<p class=MsoNormal><span >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US><a target="_blank" href="http://www.javaeye.com/topic/573212">SharedPreferences</a></span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a target="_blank" href="http://android.yaohuiji.com/archives/672">[Android<span
><span>开发者指南</span></span>] <span
><span>第十八讲：</span></span>Android SharedPreferences<span
lang=EN-US ><span>和</span></span>File</a></span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a target="_blank" href="http://hi.baidu.com/fumingxia19/blog/item/9e98fefcce03648bb901a0b9.html">SharedPreferences<span
lang=EN-US ><span>用法</span></span></a></span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a target="_blank" href="http://nkeegamedev.blogspot.com/2010/08/android-sharedpreference.html">Android<span
lang=EN-US ><span>程式O</span></span> (<span
lang=EN-US ><span>十五</span></span>) <span
lang=EN-US ><span>使用</span></span>SharedPreferences</a></span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class=MsoNormal><span >&nbsp;&nbsp;&nbsp; </span><span
>示例代码</span></p>
<p class=MsoNormal><span >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>译注：</span><span>Shared Preferences</span><span
>保存位置：</span><span>/data/data/app_name/shared_prefs/*.xml</span></p>
<p class=MsoNormal style='margin-left:42.0pt'><span>private boolean
flag = false;</span></p>
<p class=MsoNormal style='margin-left:42.0pt'><span>&nbsp;</span></p>
<p class=MsoNormal style='margin-left:42.0pt'><span>//</span><span
>取得活动的</span><span>Preferences</span><span
>对象</span></p>
<p class=MsoNormal style='margin-left:42.0pt'><span>SharedPreferences
settings = getPreferences(Activity.MODE_PRIVATE);</span></p>
<p class=MsoNormal style='margin-left:42.0pt'><span>//</span><span
>取得值</span></p>
<p class=MsoNormal style='margin-left:42.0pt'><span>flag =
settings.getBoolean(“flag”,false);</span></p>
<p class=MsoNormal style='margin-left:42.0pt'><span>&nbsp;</span></p>
<p class=MsoNormal style='margin-left:42.0pt'><span>//</span><span
>取得活动的</span><span>Preferences</span><span
>对象</span></p>
<p class=MsoNormal style='margin-left:42.0pt'><span>SharedPreferences
settings = getPreferences(0);</span></p>
<p class=MsoNormal style='margin-left:42.0pt'><span>//</span><span
>取得编辑对象</span></p>
<p class=MsoNormal style='margin-left:42.0pt'><span>SharedPreferences.Editor
editor = settings.edit();</span></p>
<p class=MsoNormal style='margin-left:42.0pt'><span>//</span><span
>添加值</span></p>
<p class=MsoNormal style='margin-left:42.0pt'><span>editor.putBoolean(“true”,flag);</span></p>
<p class=MsoNormal style='margin-left:42.0pt'><span>//</span><span
>提交保存</span></p>
<p class=MsoNormal style='margin-left:42.0pt'><span>editor.commit();</span></p>

</div>

<b><span style='font-size:16.0pt;font-family:"Cambria","serif"'><br
clear=all style='page-break-before:auto'>
</span></b>

      
</body>
</html>
