<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=gb2312">
<link rel="stylesheet" href="Word2Chm.css" type="text/css">
<title> AsyncTask</title>
</head>
<body>     
<div class=WordSection35 style='layout-grid:15.6pt'><br clear=all
style='page-break-before:always'>

<p class=MsoNormal align=center style='text-align:center'><a name=AsyncTask><b><span
lang=EN-US style='font-size:18.0pt'>AsyncTask</span></b></a></p>
<p class=MsoNormal align=center style='text-align:center'><span
>译者署名：</span><span> 0_1</span></p>
<p class=MsoNormal align=center style='text-align:center'><span
>译者链接：</span><a target="_blank" href="http://dev.10086.cn/blog/?32546"><span
lang=EN-US>http://dev.10086.cn/blog/?32546</span></a><span> </span></p>
<p class=MsoNormal align=center style='text-align:center'><span
>版本：</span><span>Android 2.3 r1</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
style='font-size:12.0pt;'>结构</span></b></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>继承关系</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><b><i><span>public abstract class <span
style='color:#C00000'>AsyncTask</span> extends <span style='color:#C00000'>Object</span></span></i></b></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span>java.lang.Object</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>android.os.AsyncTask&lt;Params, Progress,
Result&gt;</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
style='font-size:12.0pt;'>类概述</span></b></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:24.1pt'><span
class=Char5><span style='font-size:10.5pt'>AsyncTask</span></span><span
style='font-size:10.5pt'>能够适当地、简单地用于 <span class=Char5><span>UI</span></span>线程。
这个类不需要操作线程<span>(<span class=Char5>Thread</span>)</span>就可以完成后台操作将结果返回<span
class=Char5><span>UI</span></span>。</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:24.1pt'><span
style='font-size:10.5pt'>异步任务的定义是一个在后台线程上运行，其结果是在 <span class=Char5><span
lang=EN-US>UI</span></span>线程上发布的计算。 异步任务被定义成三种泛型类型： <span class=Char5><span
lang=EN-US>Params</span></span>，<span class=Char5><span>Progress</span></span>和
<span class=Char5><span>Result</span></span>；和四个步骤： <span
class=Char5><span>begin</span></span><span> , <span
class=Char5>doInBackground</span></span>，<span class=Char5><span>processProgress</span></span><span
lang=EN-US> </span>和<span class=Char5><span>end</span></span>。</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>&nbsp;</span></p>
<p style='margin:0cm;margin-bottom:.0001pt'><b>用法</b></p>
<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=Char5><span style='font-size:10.5pt'>AysncTask</span></span><span
style='font-size:10.5pt'>必须被继承使用。子类至少<span class=Char5>覆盖</span>一个方法 </span><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>(</span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#doInBackground(Params...)"><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>doInBackground(Params...)</span></a><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>)</span><span
style='font-size:10.5pt'>，最经常<span class=Char5>覆盖</span>另一个</span><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>(</span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#onPostExecute(Result)"><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>onPostExecute(Result)</span></a><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>.)</span><span
style='font-size:10.5pt'>下面是一个子类的例子：</span></p>
<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-family:
"Calibri","sans-serif"'><img border=0 width=554 height=306
src="image/image022.jpg"></span></p>
<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>一旦创建，一个任务执行起来就非常简单：</span></p>
<p style='margin:0cm;margin-bottom:.0001pt'><span><img border=0
width=554 height=54 src="image/image023.png"></span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
style='font-size:12.0pt'>AsyncTask</span></b><b><span style='font-size:12.0pt;
'>的泛型类型</span></b></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>这三个类型被用于一个异步任务，如下：<span> </span></span></p>
<p class=MsoNormal align=left style='margin-left:17.9pt;text-align:left;
text-indent:24.1pt'><span >1. </span><span
class=Char5><span>Params</span></span><span >，</span><span
>启动任务执行的输入参数</span><span style='font-family:
宋体'> </span></p>
<p class=MsoNormal align=left style='margin-left:17.9pt;text-align:left;
text-indent:24.1pt'><span >2. </span><span
class=Char5><span>Progress</span></span><span style='font-family:
宋体'>，</span><span >后台任务执行的百分比</span><span
> </span></p>
<p class=MsoNormal align=left style='margin-left:17.9pt;text-align:left;
text-indent:24.1pt'><span >3. </span><span
class=Char5><span>Result</span></span><span >，后台计算的结果类型<span
lang=EN-US> </span></span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:24.1pt'><span
>在一个异步任务里，不是所有的类型总被用。假如一个类型不被使用，可以简单地使用 </span><a target="_blank" href="http://developer.android.com/reference/java/lang/Void.html"><span
lang=EN-US>Void</span></a><span >类型：</span></p>
<p class=MsoNormal align=left style='text-align:left'><span><img
border=0 width=556 height=55
src="image/image024.png"></span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
style='font-size:12.0pt'>4</span></b><b><span style='font-size:12.0pt;
'>个步骤</span></b></p>
<p style='margin:0cm;margin-bottom:.0001pt'><span style='font-size:10.5pt'>当一个异步任务被执行，任务经过四各步骤：<span
lang=EN-US> </span></span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
lang=EN-US style='font-size:10.5pt'>1</span><span style='font-size:10.5pt'>．</span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#onPreExecute%28%29"><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>onPreExecute()</span></a><span
style='font-size:10.5pt'>，在<span>UI</span>线程上调用任务后立即执行。这步通常被用于设置任务，例如在用户界面显示一个进度条。<span
lang=EN-US> </span></span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
lang=EN-US style='font-size:10.5pt'>2</span><span style='font-size:10.5pt'>．</span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#doInBackground%28Params...%29"><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>doInBackground(Params...)</span></a><span
style='font-size:10.5pt'>，后台线程执行<span class=Char5><span>onPreExecute()</span></span>完后立即调用，这步被用于执行较长时间的后台计算。异步任务的参数也被传到这步。计算的结果必须在这步返回，将传回到上一步。在执行过程中可以调用</span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#publishProgress%28Progress...%29"><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>publishProgress(Progress...)</span></a><span
style='font-size:10.5pt'>来更新任务的进度。</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
lang=EN-US style='font-size:10.5pt'>3</span><span style='font-size:10.5pt'>．</span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#onProgressUpdate%28Progress...%29"><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>onProgressUpdate(Progress...)</span></a><span
lang=EN-US style='font-size:10.5pt'>,</span><span style='font-size:10.5pt'>一次呼叫
</span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#publishProgress%28Progress...%29"><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>publishProgress(Progress...)</span></a><span
style='font-size:10.5pt'>后调用<span> UI</span>线程。执行时间是不确定的。这个方法用于当后台计算还在进行时在用户界面显示进度。例如：这个方法可以被用于一个进度条动画或在文本域显示记录。<span
lang=EN-US> </span></span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
lang=EN-US style='font-size:10.5pt'>4</span><span style='font-size:10.5pt'>．</span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#onPostExecute%28Result%29"><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>onPostExecute(Result)</span></a><span
lang=EN-US style='font-size:10.5pt'>, </span><span style='font-size:10.5pt'>当后台计算结束时，调用<span
lang=EN-US> UI</span>线程。后台计算结果作为一个参数传递到这步。 </span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
lang=EN-US style='font-size:10.5pt'>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
style='font-size:12.0pt;'>线程规则</span></b></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:17.85pt'><span
style='font-size:10.5pt'>有一些线程规则必须去遵守，这个类才会正确的工作<span>:</span></span></p>
<p class=MsoNormal align=left style='margin-left:35.7pt;text-align:left;
text-indent:-17.85pt'><span style='font-size:10.0pt;font-family:
Symbol'>・<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span >任务实例必须创建在<span> UI</span>线程<span
lang=EN-US> </span></span></p>
<p class=MsoNormal align=left style='margin-left:35.7pt;text-align:left;
text-indent:-17.85pt'><span style='font-size:10.0pt;font-family:
Symbol'>・<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#execute%28Params...%29"><span
lang=EN-US>execute(Params...)</span></a><span >必须在<span
lang=EN-US> UI</span>线程上调用<span> </span></span></p>
<p class=MsoNormal align=left style='margin-left:35.7pt;text-align:left;
text-indent:-17.85pt'><span style='font-size:10.0pt;font-family:
Symbol'>・<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span >不要手动调用</span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#onPreExecute%28%29"><span
lang=EN-US>onPreExecute()</span></a><span>, </span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#onPostExecute%28Result%29"><span
lang=EN-US>onPostExecute(Result)</span></a><span>, </span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#doInBackground%28Params...%29"><span
lang=EN-US>doInBackground(Params...)</span></a><span>, </span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#onProgressUpdate%28Progress...%29"><span
lang=EN-US>onProgressUpdate(Progress...)</span></a></p>
<p class=MsoNormal align=left style='margin-left:35.7pt;text-align:left;
text-indent:-17.85pt'><span style='font-size:10.0pt;font-family:
Symbol'>・<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span >这个任务只执行一次（如果执行第二次将会抛出异常）</span></p>
<p class=MsoNormal align=left style='text-align:left'><span
style='font-size:12.0pt;'>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
style='font-size:12.0pt;'>内部类</span></b></p>
<p class=MsoNormal align=left style='text-align:left'><span
>&nbsp;&nbsp;&nbsp; </span><span
style='background:#D9D9D9'>enum &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AsyncTask.Status
&nbsp; </span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>表示任务的当前状态</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
style='font-size:12.0pt;'>构造函数</span></b></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:#D9D9D9'>public AsyncTask ()</span></span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
class=shorttext><span >创建一个新的异步任务。这个构造函数必须在</span><span
lang=EN-US>UI</span></span><span class=shorttext><span >线程上调用。</span></span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
style='font-size:12.0pt;'>公共方法</span></b></p>
<p class=MsoNormal style='text-indent:21.0pt'><span
style='background:#D9D9D9'>public final boolean <b>cancel</b> (boolean
mayInterruptIfRunning)</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span >尝试取消这个任务的执行，如果这个任务已经结束或者已经取消或者不能被取消或者某些其他原因，那么将导致这个操作失败，当调用此方法时，此方法执行成功并且这个任务还没有执行，那么此任务将不再执行。如果任务已经开始，这时执行此操作传入的参数</span><span
lang=EN-US>mayInterruptIfRunning</span><span >为</span><span
lang=EN-US>true</span><span >，执行此任务的线程将尝试中断该任务。</span></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
>参数</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>mayInterruptIfRunning&nbsp; </span><span >如果为</span><span
lang=EN-US>true</span><span >则正在执行的线程将会中断，如果</span><span
lang=EN-US>false</span><span >，则会允许正在执行的任务线程执行完毕。</span></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
>返回值</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>如果此任务不能取消返回</span><span>false</span><span
>，如果已经正常的执行完毕，返回</span><span>true</span></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
>参见</span></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#isCancelled%28%29"><span
lang=EN-US>isCancelled()</span></a></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><code><span
lang=EN-US style='font-size:12.0pt'>&nbsp;&nbsp;&nbsp; </span></code><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#onCancelled%28%29"><span
lang=EN-US>onCancelled()</span></a></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span
style='background:#D9D9D9'>public final AsyncTask&lt;Params, Progress,
Result&gt; <b>execute</b> (Params... params)</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span >用指定的参数来执行此任务，这个方法将会返回此任务本身，所以调用者可以拥有此任务的引用。此方法必须在</span><span
lang=EN-US>UI</span><span >线程中调用</span></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
>参数</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>params &nbsp; </span><span >任务参数</span></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
>返回值</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>AsyncTask</span><span >的实例</span></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
>异常</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>IllegalStateException&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>如果</span><span>getStatus()</span><span
>返回的是</span><span>RUNNING</span><span
>或者</span><span>FINISHED</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>&nbsp;</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span
style='background:#D9D9D9'>public final Result <b>get</b> ()</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span >等待计算结束并返回结果</span></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
>返回值</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
>计算结果</span></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
>异常</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>CancellationException &nbsp;&nbsp; </span><span style='font-family:
宋体'>如果计算取消</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>ExecutionException &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>如果计算抛出异常</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>InterruptedException &nbsp;&nbsp;&nbsp; </span><span
>当等待时当前线程抛出异常</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>&nbsp;</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span
style='background:#D9D9D9'>public final Result <b>get</b> (long timeout,
TimeUnit unit)</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span >等待计算结束并返回结果，最长等待时间为：</span><span
lang=EN-US>timeOut</span><span >（超时时间）</span><span
lang=EN-US>.</span></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
>参数</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>timeout  </span><span >计算等待超时时间</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>unit &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>超时的时间单位</span></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
>返回值</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
>计算结果</span></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
>异常</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>CancellationException &nbsp;&nbsp; </span><span style='font-family:
宋体'>如果计算取消</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>ExecutionException &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>如果计算抛出异常</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>InterruptedException &nbsp;&nbsp;&nbsp; </span><span
>当等待时当前线程抛出异常</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>TimeoutException  </span><span >等待时间超时</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>&nbsp;</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span
style='background:#D9D9D9'>public final AsyncTask.Status <b>getStatus</b> ()</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span >获得任务的当前状态</span></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
>返回值</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span>&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>当前状态</span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span
style='background:#D9D9D9'>public final boolean <b>isCancelled</b> ()</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span >如果在任务正常结束之前取消任务成功则返回</span><span
lang=EN-US>true</span><span >，否则返回</span><span
lang=EN-US>false</span></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
>返回值</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>如果任务正常结束之前取消任务成功返回</span><span>true</span><span
>。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参见</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#cancel%28boolean%29"><span
lang=EN-US>cancel(boolean)</span></a></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left'><span
lang=EN-US>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
style='font-size:12.0pt;'>受保护方法</span></b></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:#D9D9D9'>protected abstract Result <b>doInBackground</b>
(Params... params)</span></span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>覆盖此方法在后台线程执行计算，此方法中的参数是此任务的</span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#execute%28Params...%29"><span
lang=EN-US>execute(Params...)</span></a><code><span style='font-size:12.0pt'>方法的调用这传递的参数，此方法可以调用</span></code><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#publishProgress%28Progress...%29"><span
lang=EN-US>publishProgress(Progress...)</span></a><code><span style='font-size:
12.0pt'>在</span></code><span class=Char5><span>UI</span></span><code><span
style='font-size:12.0pt'>线程中来更新数据</span></code></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >参数</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>params &nbsp; </span><span
>此任务的参数</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >返回值</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span >返回一个由此任务子类定义的结果</span><span
lang=EN-US> Result</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参见</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#onPreExecute%28%29"><span
lang=EN-US>onPreExecute()</span></a></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#onPostExecute%28Result%29"><span
lang=EN-US>onPostExecute(Result)</span></a></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#publishProgress%28Progress...%29"><span
lang=EN-US>publishProgress(Progress...)</span></a></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>protected void <b>onCancelled</b> ()</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>此方法在</span><span>UI</span><span
>线程中当</span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#cancel%28boolean%29"><span
lang=EN-US>cancel(boolean)</span></a><span> </span><span
>被调用后调用</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >参见</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#cancel%28boolean%29"><span
lang=EN-US>cancel(boolean)</span></a></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#isCancelled%28%29"><span
lang=EN-US>isCancelled()</span></a></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>protected void <b>onPostExecute</b>
(Result result)</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>此方法在</span><span>UI</span><span
>线程中</span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#doInBackground%28Params...%29"><span
lang=EN-US>doInBackground(Params...)</span></a><span >。方法调用之后调用，此方法中的参数的值是</span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#doInBackground%28Params...%29"><span
lang=EN-US>doInBackground(Params...)</span></a><code><span style='font-size:
12.0pt'>的返回值或者当此任务已经被取消或有异常发生时此参数值为空</span></code><span class=Char5><span
lang=EN-US>null</span></span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >参数</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>result &nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=shorttext><span >由</span></span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#doInBackground%28Params...%29"><span
lang=EN-US>doInBackground(Params...)</span></a><span class=shorttext><span
>计算出的操作的结果。</span></span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >参见</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#onPreExecute%28%29"><span
lang=EN-US>onPreExecute()</span></a><span>&nbsp;&nbsp;&nbsp; </span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#doInBackground%28Params...%29"><span
lang=EN-US>doInBackground(Params...)</span></a></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>protected void <b>onPreExecute</b> ()</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>在方法</span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#doInBackground%28Params...%29"><span
lang=EN-US>doInBackground(Params...)</span></a><code><span style='font-size:
12.0pt'>调用之前调用</span></code></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >参见</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#onPostExecute%28Result%29"><span
lang=EN-US>onPostExecute(Result)</span></a></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#doInBackground%28Params...%29"><span
lang=EN-US>doInBackground(Params...)</span></a></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>protected void <b>onProgressUpdate</b>
(Progress... values)</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>该方法在</span><span>UI</span><span
>线程中</span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#publishProgress%28Progress...%29"><span
lang=EN-US>publishProgress(Progress...)</span></a><code><span style='font-size:
12.0pt'>被调用之后调用，该方法中的参数</span></code><span class=Char5><span>values</span></span><code><span
style='font-size:12.0pt'>是已经被传递到</span></code><span>p</span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#publishProgress%28Progress...%29"><span
lang=EN-US>publishProgress(Progress...)</span></a><span style='font-family:
宋体'>中的参数</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参数</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>values &nbsp;&nbsp;&nbsp; </span><span
>进度表示值</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >参见</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;
</span><code><span style='font-size:12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></code><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#publishProgress%28Progress...%29"><span
lang=EN-US>publishProgress(Progress...)</span></a></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#doInBackground%28Params...%29"><span
lang=EN-US>doInBackground(Params...)</span></a></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>protected final void <b>publishProgress</b>
(Progress... values)</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>当调用</span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#doInBackground%28Params...%29"><span
lang=EN-US>doInBackground(Params...)</span></a><span >在后台执行计算时会调用该方法，每当在</span><span
lang=EN-US>UI</span><span >线程中调用此方法时将触发</span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#onProgressUpdate%28Progress...%29"><span
lang=EN-US>onProgressUpdate(Progress...)</span></a><span style='font-family:
宋体'>方法的执行</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >参数</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>values &nbsp;&nbsp;&nbsp; </span><span
>将进度值更新到</span><span>UI</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >参见</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#onProgressUpdate%28Progress...%29"><span
lang=EN-US>onProgressUpdate(Progress...)</span></a></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><a target="_blank" href="http://developer.android.com/reference/android/os/AsyncTask.html#doInBackground%28Params...%29"><span
lang=EN-US>doInBackground(Params...)</span></a></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
style='font-size:12.0pt;'>补充</span></b></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>文章精选</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><a target="_blank" href="http://blog.csdn.net/zhenyongyuan123/archive/2010/08/30/5850389.aspx"><span
lang=EN-US>Android AsyncTask</span><span >理解</span></a></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><a target="_blank" href="http://blog.liaoxiaoqi.com/?p=473"><span>TabActivity</span><span
>下在</span><span>AsyncTask</span><span
>中使用</span><span>ProgressDialog</span><span
>存在问题的解决方法</span></a></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><a target="_blank" href="http://ysl-paradise.blogspot.com/2010/09/asynctask.html"><span
>小心，</span><span>AsyncTask </span><span
>不是f能的</span></a><span>[blogspot]</span></p>

</div>

<span style='font-size:10.5pt;font-family:"Calibri","sans-serif"'><br
clear=all style='page-break-before:auto'>
</span>

      
</body>
</html>
