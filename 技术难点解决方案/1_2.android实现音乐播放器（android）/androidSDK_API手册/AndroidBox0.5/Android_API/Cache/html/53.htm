<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=gb2312">
<link rel="stylesheet" href="Word2Chm.css" type="text/css">
<title> InputMethodSession</title>
</head>
<body>     
<div class=WordSection53 style='layout-grid:15.6pt'><br clear=all
style='page-break-before:always'>

<p class=MsoNormal align=center style='text-align:center'><a
name=InputMethodSession><b><span style='font-size:18.0pt'>InputMethodSession</span></b></a></p>
<p class=MsoNormal align=center style='text-align:center'><span
>译者署名：六必治</span></p>
<p class=MsoNormal align=center style='text-align:center'><span
>译者链接：</span><u><span style='font-size:12.0pt;
color:blue'><a target="_blank" href="http://www.cnblogs.com/zcmky/">http://www.cnblogs.com/zcmky/</a></span></u></p>
<p class=MsoNormal align=center style='text-align:center'><span
>版本：</span><span>Android 2.3 r1</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
style='font-size:12.0pt;'>结构</span></b></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>继承关系</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><b><i><span>public interface <span
style='color:#C00000'>InputMethodSession</span></span></i></b></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span>android.view.inputmethod.
InputMethodSession</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left'><span
lang=EN-US style='font-size:9.0pt'>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>子类及间接子类</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left'><span
>间接子类</span></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US><a target="_blank" href="http://developer.android.com/reference/android/inputmethodservice/AbstractInputMethodService.AbstractInputMethodSessionImpl.html">AbstractInputMethodService.AbstractInputMethodSessionImpl</a>,<a target="_blank" href="http://developer.android.com/reference/android/inputmethodservice/InputMethodService.InputMethodSessionImpl.html">InputMethodService.InputMethodSessionImpl</a>
</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
style='font-size:12.0pt;'>类概述</span></b></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>InputMethodSession</span><span
style='font-size:10.5pt'>接口提供给每个客户端的</span><code><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/view/inputmethod/InputMethod.html">InputMethod</a></span></code><span
style='font-size:10.5pt'>可安全地暴露在应用程序中。</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt'><span
style='font-size:10.5pt'>应用程序通常不自己使用本接口，而是依靠</span><code><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/widget/TextView.html">TextView</a></span></code><span
style='font-size:10.5pt'>和</span><code><span style='font-size:10.5pt;
font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/widget/EditText.html">EditText</a></span></code><span
style='font-size:10.5pt'>提供的标准交互。</span></p>
<p style='margin:0cm;margin-bottom:.0001pt'><span>&nbsp;</span></p>
<p style='margin:0cm;margin-bottom:.0001pt'><b>内部类</b></p>
<p style='margin:0cm;margin-bottom:.0001pt'><span>&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
background:#D9D9D9'>interface &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; InputMethodSession.EventCallback</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
style='font-size:12.0pt;'>公共方法</span></b></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:#D9D9D9'>public abstract void <b>appPrivateCommand</b>
(String action, Bundle data)</span></span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>执行由应用程序发往输入法的私有命令。它可用于提供专属域功能，仅专属于特定的输入法及其客户端</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参数</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>action &nbsp;&nbsp;&nbsp;&nbsp; </span><span
>执行命名的名称。它必须是一个域名称，如前缀你自己的包名称，这样不同的开发者就不产生命令冲突。</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>data &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>随命令包括的任何数据。</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>public abstract void <b>dispatchKeyEvent</b>
(int seq, KeyEvent event, InputMethodSession.EventCallback callback)</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>当按键按下时调用此方法。完成事件时，本方法的实现方法必须调用</span><var><span
lang=EN-US style='font-family:"Calibri","sans-serif"'>callback</span></var><span
>回调函数并返回结果。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>如果输入法处理此事件返回</span><span>true</span><span
>，否则返回</span><span>false</span><span
>，调用者（如应用程序）将处理事件。</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参数</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>event &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>按键事件</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >返回值</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span >输入法是否处理本事件。</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >参见</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><code><span
lang=EN-US style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>ERROR(/#dispatchKeyUp)</span></a></span></code></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><code><span
lang=EN-US style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/view/KeyEvent.html"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>KeyEvent</span></a></span></code></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>public abstract void <b>dispatchTrackballEvent</b>
(int seq, MotionEvent event, InputMethodSession.EventCallback callback)</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>发生轨迹球事件时调用此方法。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>如果输入法处理此事件返回</span><span>true</span><span
>，否则返回</span><span>false</span><span
>，调用者（如应用程序）将处理事件。</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参数</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>event &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>移动事件</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >返回值</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span >输入法是否处理本事件。</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><span >参见</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><code><span
lang=EN-US style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/view/MotionEvent.html"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>MotionEvent</span></a></span></code></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>public abstract void <b>displayCompletions</b>
(CompletionInfo[] completions)</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>由文本编辑器调用自动补全，完成后通知输入法补全有效。可被用于输入法向用户显示备选文本以备插入。</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参数</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>completions &nbsp;&nbsp; </span><span
>补充文本数组有效，并以最佳结果开头。如果数组为空，存在的补充将被移除。</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>public abstract void <b>finishInput</b>
()</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>当应用程序要停止接收文字输入时调用此方法。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>public abstract void <b>toggleSoftInput</b>
(int showFlags, int hideFlags)</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>切换软键盘</span><span>(soft input)</span><span
>窗口。应用程序能切换软键盘</span><span>(soft input)</span><span
>窗口</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参数</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>showFlags &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>提供附加的操作标志。可能为</span><span>0</span><span
>或设置</span><span>SHOW_IMPLICIT, SHOW_FORCED</span><span
>位。</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>hideFlags &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>提供附加的操作标志。可能为</span><span>0</span><span
>或设置</span><span>HIDE_IMPLICIT_ONLY,
HIDE_NOT_ALWAYS</span><span >位。</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>public abstract void <b>updateCursor</b>
(Rect newCursor)</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>当目标输入域的光标位置在自身窗口内移动时调用此方法。本方法通常不被调用，但输入法要求更新时可被调用。</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参数</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>newCursor &nbsp;&nbsp;&nbsp;&nbsp; </span><span
>当前输入区域窗口坐标系下光标显示的矩阵区域。</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>public abstract void <b>updateExtractedText</b>
(int token, ExtractedText text)</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>当内容变化时文本编辑器调用此方法，通知其新提取文本。本方法仅在输入法调用</span><code><span
lang=EN-US style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/view/inputmethod/InputConnection.html#getExtractedText%28android.view.inputmethod.ExtractedTextRequest,%20int%29"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>InputConnection.getExtractedText()</span></a></span></code><span
>并带有通报更新选项时才被调用。</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参数</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>token &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>输入法提供了分辨要求的令牌。</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>text &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>新的提取文本。</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US style='background:#D9D9D9'>public abstract void <b>updateSelection</b>
(int oldSelStart, int oldSelEnd, int newSelStart, int newSelEnd, int
candidatesStart, int candidatesEnd)</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>当目标输入域的光标或选定变化时，调用此方法。</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参数</span></p>
<p class=MsoNormal align=left style='margin-left:63.0pt;text-align:left'><span
lang=EN-US>oldSelStart &nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>之前的选择开始位置相对于光标的文本偏移。</span></p>
<p class=MsoNormal align=left style='margin-left:63.0pt;text-align:left'><span
lang=EN-US>oldSelEnd &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>之前的选择结束位置相对于光标的文本偏移。</span></p>
<p class=MsoNormal align=left style='margin-left:63.0pt;text-align:left'><span
lang=EN-US>newSelStart &nbsp;&nbsp; </span><span >新的选择初始位置相对于光标的文本偏移。</span></p>
<p class=MsoNormal align=left style='margin-left:63.0pt;text-align:left'><span
lang=EN-US>newSelEnd &nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>新的选择结束位置相对于光标的文本偏移。</span></p>
<p class=MsoNormal align=left style='margin-left:63.0pt;text-align:left'><span
lang=EN-US>candidatesStart &nbsp;&nbsp;&nbsp;&nbsp; </span><span
>当前坐标系下文本文本开始位置的文本偏移。</span></p>
<p class=MsoNormal align=left style='margin-left:63.0pt;text-align:left'><span
lang=EN-US>candidatesEnd &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>当前坐标系下文本文本结束位置的文本偏移。</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
style='font-size:12.0pt;'>补充</span></b></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>文章链接</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left'><span
lang=EN-US><a target="_blank" href="http://milochen.wordpress.com/2010/07/23/android-keyboard-startshow-hide-bug/">android
<span ><span>IP的雨P]、@示、[藏及其</span></span>
bug</a></span></p>

</div>

<span style='font-size:10.5pt;font-family:"Calibri","sans-serif"'><br
clear=all style='page-break-before:auto'>
</span>

      
</body>
</html>
